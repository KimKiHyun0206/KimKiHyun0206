name: Latest blog post workflow
on:
  schedule:
    # 매일 한국 시간(KST) 00:00에 업데이트 (UTC 15:00)
    - cron: '0 15 * * *'
  workflow_dispatch:

jobs:
  update-readme-with-blog:
    name: Update this repo's README with latest blog posts
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Pull in posts
        uses: gautamkrishnar/blog-post-workflow@v1
        with:
          feed_list: "https://v2.velog.io/rss/@duskafka"
          # 1. 을 써주면 마크다운이 자동으로 1, 2, 3 번호를 매깁니다.
          # $newline을 끝에 넣어 줄바꿈을 확실하게 합니다.
          template: "1. <a href='$url'><font color='#DDE6ED'>$title</font></a> ($date)$newline"
          date_format: "yyyy-mm-dd"
          max_post_count: 10
